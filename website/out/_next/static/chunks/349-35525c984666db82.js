(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[349],{3349:function(e,t,n){var a=n(7378),r=n(1403),i=n(1155),o=n(1809),l=n(3637),s=n(9741),c=n(42),u=n(6458),m=n(8891),f=n(8555);function d(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var h=p(a),g=p(i),y=d(c),v=d(u),b=p(m),x=d(f);const E={sunset:"venice_sunset_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",night:"dikhololo_night_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr",forest:"forest_slope_1k.hdr",apartment:"lebombo_1k.hdr",studio:"studio_small_03_1k.hdr",city:"potsdamer_platz_1k.hdr",park:"rooitou_park_1k.hdr",lobby:"st_fagans_interior_1k.hdr"};function _({background:e=!1,files:t=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:n="",preset:a,scene:l,extensions:s,loadingCallback:c}){if(a){if(!(a in E))throw new Error("Preset must be one of: "+Object.keys(E).join(", "));t=E[a],n="https://rawcdn.githack.com/pmndrs/drei-assets/aa3600359ba664d546d05821bcbca42013587df2/hdri/"}const u=r.useThree((({scene:e})=>e)),m=Array.isArray(t),f=m?i.CubeTextureLoader:o.RGBELoader,d=r.useLoader(f,m?[t]:t,(e=>{var t;e.setPath(n),null===(t=e.setDataType)||void 0===t||t.call(e,i.FloatType),s&&s(e)}),(e=>{c&&c(e.loaded/e.total*100)})),p=m?d[0]:d;return p.mapping=i.EquirectangularReflectionMapping,h.useLayoutEffect((()=>{const t=l?l.background:u.background,n=l?l.environment:u.environment;return l?(l.environment=p,e&&(l.background=p)):(u.environment=p,e&&(u.background=p)),()=>{l?(l.environment=n,l.background=t):(u.environment=n,u.background=t),p.dispose()}}),[p,e,l]),null}const S=new i.OrthographicCamera(-1,1,1,-1,0,1),w=new i.BufferGeometry;w.setAttribute("position",new i.Float32BufferAttribute([-1,3,0,-1,-1,0,3,-1,0],3)),w.setAttribute("uv",new i.Float32BufferAttribute([0,2,0,0,2,0],2));class P{constructor(e){this._mesh=new i.Mesh(w,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,S)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}const C={uniforms:{tDiffuse:{value:null},shape:{value:1},radius:{value:4},rotateR:{value:Math.PI/12*1},rotateG:{value:Math.PI/12*2},rotateB:{value:Math.PI/12*3},scatter:{value:0},width:{value:1},height:{value:1},blending:{value:1},blendingMode:{value:1},greyscale:{value:!1},disable:{value:!1}},vertexShader:"\n\n\t\tvarying vec2 vUV;\n\n\t\tvoid main() {\n\n\t\t\tvUV = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\n\t\t}",fragmentShader:"\n\n\t\t#define SQRT2_MINUS_ONE 0.41421356\n\t\t#define SQRT2_HALF_MINUS_ONE 0.20710678\n\t\t#define PI2 6.28318531\n\t\t#define SHAPE_DOT 1\n\t\t#define SHAPE_ELLIPSE 2\n\t\t#define SHAPE_LINE 3\n\t\t#define SHAPE_SQUARE 4\n\t\t#define BLENDING_LINEAR 1\n\t\t#define BLENDING_MULTIPLY 2\n\t\t#define BLENDING_ADD 3\n\t\t#define BLENDING_LIGHTER 4\n\t\t#define BLENDING_DARKER 5\n\t\tuniform sampler2D tDiffuse;\n\t\tuniform float radius;\n\t\tuniform float rotateR;\n\t\tuniform float rotateG;\n\t\tuniform float rotateB;\n\t\tuniform float scatter;\n\t\tuniform float width;\n\t\tuniform float height;\n\t\tuniform int shape;\n\t\tuniform bool disable;\n\t\tuniform float blending;\n\t\tuniform int blendingMode;\n\t\tvarying vec2 vUV;\n\t\tuniform bool greyscale;\n\t\tconst int samples = 8;\n\n\t\tfloat blend( float a, float b, float t ) {\n\n\t\t// linear blend\n\t\t\treturn a * ( 1.0 - t ) + b * t;\n\n\t\t}\n\n\t\tfloat hypot( float x, float y ) {\n\n\t\t// vector magnitude\n\t\t\treturn sqrt( x * x + y * y );\n\n\t\t}\n\n\t\tfloat rand( vec2 seed ){\n\n\t\t// get pseudo-random number\n\t\t\treturn fract( sin( dot( seed.xy, vec2( 12.9898, 78.233 ) ) ) * 43758.5453 );\n\n\t\t}\n\n\t\tfloat distanceToDotRadius( float channel, vec2 coord, vec2 normal, vec2 p, float angle, float rad_max ) {\n\n\t\t// apply shape-specific transforms\n\t\t\tfloat dist = hypot( coord.x - p.x, coord.y - p.y );\n\t\t\tfloat rad = channel;\n\n\t\t\tif ( shape == SHAPE_DOT ) {\n\n\t\t\t\trad = pow( abs( rad ), 1.125 ) * rad_max;\n\n\t\t\t} else if ( shape == SHAPE_ELLIPSE ) {\n\n\t\t\t\trad = pow( abs( rad ), 1.125 ) * rad_max;\n\n\t\t\t\tif ( dist != 0.0 ) {\n\t\t\t\t\tfloat dot_p = abs( ( p.x - coord.x ) / dist * normal.x + ( p.y - coord.y ) / dist * normal.y );\n\t\t\t\t\tdist = ( dist * ( 1.0 - SQRT2_HALF_MINUS_ONE ) ) + dot_p * dist * SQRT2_MINUS_ONE;\n\t\t\t\t}\n\n\t\t\t} else if ( shape == SHAPE_LINE ) {\n\n\t\t\t\trad = pow( abs( rad ), 1.5) * rad_max;\n\t\t\t\tfloat dot_p = ( p.x - coord.x ) * normal.x + ( p.y - coord.y ) * normal.y;\n\t\t\t\tdist = hypot( normal.x * dot_p, normal.y * dot_p );\n\n\t\t\t} else if ( shape == SHAPE_SQUARE ) {\n\n\t\t\t\tfloat theta = atan( p.y - coord.y, p.x - coord.x ) - angle;\n\t\t\t\tfloat sin_t = abs( sin( theta ) );\n\t\t\t\tfloat cos_t = abs( cos( theta ) );\n\t\t\t\trad = pow( abs( rad ), 1.4 );\n\t\t\t\trad = rad_max * ( rad + ( ( sin_t > cos_t ) ? rad - sin_t * rad : rad - cos_t * rad ) );\n\n\t\t\t}\n\n\t\t\treturn rad - dist;\n\n\t\t}\n\n\t\tstruct Cell {\n\n\t\t// grid sample positions\n\t\t\tvec2 normal;\n\t\t\tvec2 p1;\n\t\t\tvec2 p2;\n\t\t\tvec2 p3;\n\t\t\tvec2 p4;\n\t\t\tfloat samp2;\n\t\t\tfloat samp1;\n\t\t\tfloat samp3;\n\t\t\tfloat samp4;\n\n\t\t};\n\n\t\tvec4 getSample( vec2 point ) {\n\n\t\t// multi-sampled point\n\t\t\tvec4 tex = texture2D( tDiffuse, vec2( point.x / width, point.y / height ) );\n\t\t\tfloat base = rand( vec2( floor( point.x ), floor( point.y ) ) ) * PI2;\n\t\t\tfloat step = PI2 / float( samples );\n\t\t\tfloat dist = radius * 0.66;\n\n\t\t\tfor ( int i = 0; i < samples; ++i ) {\n\n\t\t\t\tfloat r = base + step * float( i );\n\t\t\t\tvec2 coord = point + vec2( cos( r ) * dist, sin( r ) * dist );\n\t\t\t\ttex += texture2D( tDiffuse, vec2( coord.x / width, coord.y / height ) );\n\n\t\t\t}\n\n\t\t\ttex /= float( samples ) + 1.0;\n\t\t\treturn tex;\n\n\t\t}\n\n\t\tfloat getDotColour( Cell c, vec2 p, int channel, float angle, float aa ) {\n\n\t\t// get colour for given point\n\t\t\tfloat dist_c_1, dist_c_2, dist_c_3, dist_c_4, res;\n\n\t\t\tif ( channel == 0 ) {\n\n\t\t\t\tc.samp1 = getSample( c.p1 ).r;\n\t\t\t\tc.samp2 = getSample( c.p2 ).r;\n\t\t\t\tc.samp3 = getSample( c.p3 ).r;\n\t\t\t\tc.samp4 = getSample( c.p4 ).r;\n\n\t\t\t} else if (channel == 1) {\n\n\t\t\t\tc.samp1 = getSample( c.p1 ).g;\n\t\t\t\tc.samp2 = getSample( c.p2 ).g;\n\t\t\t\tc.samp3 = getSample( c.p3 ).g;\n\t\t\t\tc.samp4 = getSample( c.p4 ).g;\n\n\t\t\t} else {\n\n\t\t\t\tc.samp1 = getSample( c.p1 ).b;\n\t\t\t\tc.samp3 = getSample( c.p3 ).b;\n\t\t\t\tc.samp2 = getSample( c.p2 ).b;\n\t\t\t\tc.samp4 = getSample( c.p4 ).b;\n\n\t\t\t}\n\n\t\t\tdist_c_1 = distanceToDotRadius( c.samp1, c.p1, c.normal, p, angle, radius );\n\t\t\tdist_c_2 = distanceToDotRadius( c.samp2, c.p2, c.normal, p, angle, radius );\n\t\t\tdist_c_3 = distanceToDotRadius( c.samp3, c.p3, c.normal, p, angle, radius );\n\t\t\tdist_c_4 = distanceToDotRadius( c.samp4, c.p4, c.normal, p, angle, radius );\n\t\t\tres = ( dist_c_1 > 0.0 ) ? clamp( dist_c_1 / aa, 0.0, 1.0 ) : 0.0;\n\t\t\tres += ( dist_c_2 > 0.0 ) ? clamp( dist_c_2 / aa, 0.0, 1.0 ) : 0.0;\n\t\t\tres += ( dist_c_3 > 0.0 ) ? clamp( dist_c_3 / aa, 0.0, 1.0 ) : 0.0;\n\t\t\tres += ( dist_c_4 > 0.0 ) ? clamp( dist_c_4 / aa, 0.0, 1.0 ) : 0.0;\n\t\t\tres = clamp( res, 0.0, 1.0 );\n\n\t\t\treturn res;\n\n\t\t}\n\n\t\tCell getReferenceCell( vec2 p, vec2 origin, float grid_angle, float step ) {\n\n\t\t// get containing cell\n\t\t\tCell c;\n\n\t\t// calc grid\n\t\t\tvec2 n = vec2( cos( grid_angle ), sin( grid_angle ) );\n\t\t\tfloat threshold = step * 0.5;\n\t\t\tfloat dot_normal = n.x * ( p.x - origin.x ) + n.y * ( p.y - origin.y );\n\t\t\tfloat dot_line = -n.y * ( p.x - origin.x ) + n.x * ( p.y - origin.y );\n\t\t\tvec2 offset = vec2( n.x * dot_normal, n.y * dot_normal );\n\t\t\tfloat offset_normal = mod( hypot( offset.x, offset.y ), step );\n\t\t\tfloat normal_dir = ( dot_normal < 0.0 ) ? 1.0 : -1.0;\n\t\t\tfloat normal_scale = ( ( offset_normal < threshold ) ? -offset_normal : step - offset_normal ) * normal_dir;\n\t\t\tfloat offset_line = mod( hypot( ( p.x - offset.x ) - origin.x, ( p.y - offset.y ) - origin.y ), step );\n\t\t\tfloat line_dir = ( dot_line < 0.0 ) ? 1.0 : -1.0;\n\t\t\tfloat line_scale = ( ( offset_line < threshold ) ? -offset_line : step - offset_line ) * line_dir;\n\n\t\t// get closest corner\n\t\t\tc.normal = n;\n\t\t\tc.p1.x = p.x - n.x * normal_scale + n.y * line_scale;\n\t\t\tc.p1.y = p.y - n.y * normal_scale - n.x * line_scale;\n\n\t\t// scatter\n\t\t\tif ( scatter != 0.0 ) {\n\n\t\t\t\tfloat off_mag = scatter * threshold * 0.5;\n\t\t\t\tfloat off_angle = rand( vec2( floor( c.p1.x ), floor( c.p1.y ) ) ) * PI2;\n\t\t\t\tc.p1.x += cos( off_angle ) * off_mag;\n\t\t\t\tc.p1.y += sin( off_angle ) * off_mag;\n\n\t\t\t}\n\n\t\t// find corners\n\t\t\tfloat normal_step = normal_dir * ( ( offset_normal < threshold ) ? step : -step );\n\t\t\tfloat line_step = line_dir * ( ( offset_line < threshold ) ? step : -step );\n\t\t\tc.p2.x = c.p1.x - n.x * normal_step;\n\t\t\tc.p2.y = c.p1.y - n.y * normal_step;\n\t\t\tc.p3.x = c.p1.x + n.y * line_step;\n\t\t\tc.p3.y = c.p1.y - n.x * line_step;\n\t\t\tc.p4.x = c.p1.x - n.x * normal_step + n.y * line_step;\n\t\t\tc.p4.y = c.p1.y - n.y * normal_step - n.x * line_step;\n\n\t\t\treturn c;\n\n\t\t}\n\n\t\tfloat blendColour( float a, float b, float t ) {\n\n\t\t// blend colours\n\t\t\tif ( blendingMode == BLENDING_LINEAR ) {\n\t\t\t\treturn blend( a, b, 1.0 - t );\n\t\t\t} else if ( blendingMode == BLENDING_ADD ) {\n\t\t\t\treturn blend( a, min( 1.0, a + b ), t );\n\t\t\t} else if ( blendingMode == BLENDING_MULTIPLY ) {\n\t\t\t\treturn blend( a, max( 0.0, a * b ), t );\n\t\t\t} else if ( blendingMode == BLENDING_LIGHTER ) {\n\t\t\t\treturn blend( a, max( a, b ), t );\n\t\t\t} else if ( blendingMode == BLENDING_DARKER ) {\n\t\t\t\treturn blend( a, min( a, b ), t );\n\t\t\t} else {\n\t\t\t\treturn blend( a, b, 1.0 - t );\n\t\t\t}\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tif ( ! disable ) {\n\n\t\t// setup\n\t\t\t\tvec2 p = vec2( vUV.x * width, vUV.y * height );\n\t\t\t\tvec2 origin = vec2( 0, 0 );\n\t\t\t\tfloat aa = ( radius < 2.5 ) ? radius * 0.5 : 1.25;\n\n\t\t// get channel samples\n\t\t\t\tCell cell_r = getReferenceCell( p, origin, rotateR, radius );\n\t\t\t\tCell cell_g = getReferenceCell( p, origin, rotateG, radius );\n\t\t\t\tCell cell_b = getReferenceCell( p, origin, rotateB, radius );\n\t\t\t\tfloat r = getDotColour( cell_r, p, 0, rotateR, aa );\n\t\t\t\tfloat g = getDotColour( cell_g, p, 1, rotateG, aa );\n\t\t\t\tfloat b = getDotColour( cell_b, p, 2, rotateB, aa );\n\n\t\t// blend with original\n\t\t\t\tvec4 colour = texture2D( tDiffuse, vUV );\n\t\t\t\tr = blendColour( r, colour.r, blending );\n\t\t\t\tg = blendColour( g, colour.g, blending );\n\t\t\t\tb = blendColour( b, colour.b, blending );\n\n\t\t\t\tif ( greyscale ) {\n\t\t\t\t\tr = g = b = (r + b + g) / 3.0;\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = vec4( r, g, b, 1.0 );\n\n\t\t\t} else {\n\n\t\t\t\tgl_FragColor = texture2D( tDiffuse, vUV );\n\n\t\t\t}\n\n\t\t}"},D=16;const T=new Map([[0,null],[1,"#define GLSLIFY 1\nvec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x+y,1.0)*opacity+x*(1.0-opacity);}"],[2,"#define GLSLIFY 1\nvec3 blend(const in vec3 x,const in vec3 y,const in float opacity){return y*opacity+x*(1.0-opacity);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){float a=min(y.a,opacity);return vec4(blend(x.rgb,y.rgb,a),max(x.a,a));}"],[3,"#define GLSLIFY 1\nvec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y)*0.5*opacity+x*(1.0-opacity);}"],[4,"#define GLSLIFY 1\nfloat blend(const in float x,const in float y){return(y==0.0)? y : max(1.0-(1.0-x)/y,0.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[5,"#define GLSLIFY 1\nfloat blend(const in float x,const in float y){return(y==1.0)? y : min(x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[6,"#define GLSLIFY 1\nvec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x,y)*opacity+x*(1.0-opacity);}"],[7,"#define GLSLIFY 1\nvec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return abs(x-y)*opacity+x*(1.0-opacity);}"],[8,"#define GLSLIFY 1\nvec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y-2.0*x*y)*opacity+x*(1.0-opacity);}"],[9,"#define GLSLIFY 1\nvec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x,y)*opacity+x*(1.0-opacity);}"],[10,"#define GLSLIFY 1\nvec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return x*y*opacity+x*(1.0-opacity);}"],[11,"#define GLSLIFY 1\nfloat blend(const in float x,const in float y){return(y>0.0)? min(x/y,1.0): 1.0;}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[12,"#define GLSLIFY 1\nvec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-abs(1.0-x-y))*opacity+x*(1.0-opacity);}"],[13,"#define GLSLIFY 1\nvec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y*opacity+x*(1.0-opacity);}"],[14,"#define GLSLIFY 1\nfloat blend(const in float x,const in float y){return(x<0.5)?(2.0*x*y):(1.0-2.0*(1.0-x)*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[15,"#define GLSLIFY 1\nfloat blend(const in float x,const in float y){return(y==1.0)? y : min(x*x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[D,"#define GLSLIFY 1\nvec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-(1.0-x)*(1.0-y))*opacity+x*(1.0-opacity);}"],[17,"#define GLSLIFY 1\nfloat blend(const in float x,const in float y){return(y<0.5)?(2.0*x*y+x*x*(1.0-2.0*y)):(sqrt(x)*(2.0*y-1.0)+2.0*x*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[18,"#define GLSLIFY 1\nvec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x+y-1.0,0.0)*opacity+x*(1.0-opacity);}"]]);class A extends i.EventDispatcher{constructor(e,t=1){super(),this.blendFunction=e,this.opacity=new i.Uniform(t)}getBlendFunction(){return this.blendFunction}setBlendFunction(e){this.blendFunction=e,this.dispatchEvent({type:"change"})}getShaderCode(){return T.get(this.blendFunction)}}class L extends class{constructor(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}{constructor(e,t,n){super(),void 0===C&&console.error("THREE.HalftonePass requires HalftoneShader"),this.uniforms=i.UniformsUtils.clone(C.uniforms),this.material=new i.ShaderMaterial({uniforms:this.uniforms,fragmentShader:C.fragmentShader,vertexShader:C.vertexShader}),this.uniforms.width.value=e,this.uniforms.height.value=t;for(const a in n)n.hasOwnProperty(a)&&this.uniforms.hasOwnProperty(a)&&(this.uniforms[a].value=n[a]);this.fsQuad=new P(this.material),this.blendMode=new A(D),this.extensions=null}render(e,t,n){this.material.uniforms.tDiffuse.value=n.texture,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(),this.fsQuad.render(e))}setSize(e,t){this.uniforms.width.value=e,this.uniforms.height.value=t}initialize(e,t,n){}addEventListener(){}getAttributes(){return this.attributes}getFragmentShader(){return C.fragmentShader}getVertexShader(){return C.vertexShader}update(e,t,n){}}var k={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform float opacity;\n\n\t\tuniform sampler2D tDiffuse;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec4 texel = texture2D( tDiffuse, vUv );\n\t\t\tgl_FragColor = opacity * texel;\n\n\t\t}"};class N{constructor(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}const F=new i.OrthographicCamera(-1,1,1,-1,0,1),R=new i.BufferGeometry;R.setAttribute("position",new i.Float32BufferAttribute([-1,3,0,-1,-1,0,3,-1,0],3)),R.setAttribute("uv",new i.Float32BufferAttribute([0,2,0,0,2,0],2));class z{constructor(e){this._mesh=new i.Mesh(R,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,F)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}class V extends N{constructor(e,t){super(),this.textureID=void 0!==t?t:"tDiffuse",e instanceof i.ShaderMaterial?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=i.UniformsUtils.clone(e.uniforms),this.material=new i.ShaderMaterial({defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new z(this.material)}render(e,t,n){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}}class I extends N{constructor(e,t){super(),this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,t,n){const a=e.getContext(),r=e.state;let i,o;r.buffers.color.setMask(!1),r.buffers.depth.setMask(!1),r.buffers.color.setLocked(!0),r.buffers.depth.setLocked(!0),this.inverse?(i=0,o=1):(i=1,o=0),r.buffers.stencil.setTest(!0),r.buffers.stencil.setOp(a.REPLACE,a.REPLACE,a.REPLACE),r.buffers.stencil.setFunc(a.ALWAYS,i,4294967295),r.buffers.stencil.setClear(o),r.buffers.stencil.setLocked(!0),e.setRenderTarget(n),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),r.buffers.color.setLocked(!1),r.buffers.depth.setLocked(!1),r.buffers.stencil.setLocked(!1),r.buffers.stencil.setFunc(a.EQUAL,1,4294967295),r.buffers.stencil.setOp(a.KEEP,a.KEEP,a.KEEP),r.buffers.stencil.setLocked(!0)}}class Y extends N{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class M{constructor(e,t){if(this.renderer=e,void 0===t){const n={minFilter:i.LinearFilter,magFilter:i.LinearFilter,format:i.RGBAFormat},a=e.getSize(new i.Vector2);this._pixelRatio=e.getPixelRatio(),this._width=a.width,this._height=a.height,(t=new i.WebGLRenderTarget(this._width*this._pixelRatio,this._height*this._pixelRatio,n)).texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=t.width,this._height=t.height;this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],void 0===k&&console.error("THREE.EffectComposer relies on CopyShader"),void 0===V&&console.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new V(k),this.clock=new i.Clock}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,t){this.passes.splice(t,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const t=this.passes.indexOf(e);-1!==t&&this.passes.splice(t,1)}isLastEnabledPass(e){for(let t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0}render(e){void 0===e&&(e=this.clock.getDelta());const t=this.renderer.getRenderTarget();let n=!1;for(let a=0,r=this.passes.length;a<r;a++){const t=this.passes[a];if(!1!==t.enabled){if(t.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(a),t.render(this.renderer,this.writeBuffer,this.readBuffer,e,n),t.needsSwap){if(n){const t=this.renderer.getContext(),n=this.renderer.state.buffers.stencil;n.setFunc(t.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),n.setFunc(t.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==I&&(t instanceof I?n=!0:t instanceof Y&&(n=!1))}}this.renderer.setRenderTarget(t)}reset(e){if(void 0===e){const t=this.renderer.getSize(new i.Vector2);this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,(e=this.renderTarget1.clone()).setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,t){this._width=e,this._height=t;const n=this._width*this._pixelRatio,a=this._height*this._pixelRatio;this.renderTarget1.setSize(n,a),this.renderTarget2.setSize(n,a);for(let r=0;r<this.passes.length;r++)this.passes[r].setSize(n,a)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}}new i.OrthographicCamera(-1,1,1,-1,0,1);const Z=new i.BufferGeometry;Z.setAttribute("position",new i.Float32BufferAttribute([-1,3,0,-1,-1,0,3,-1,0],3)),Z.setAttribute("uv",new i.Float32BufferAttribute([0,2,0,0,2,0],2));class B extends N{constructor(e,t,n,a,r){super(),this.scene=e,this.camera=t,this.overrideMaterial=n,this.clearColor=a,this.clearAlpha=void 0!==r?r:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new i.Color}render(e,t,n){const a=e.autoClear;let r,i;e.autoClear=!1,void 0!==this.overrideMaterial&&(i=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(e.getClearColor(this._oldClearColor),r=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:n),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor&&e.setClearColor(this._oldClearColor,r),void 0!==this.overrideMaterial&&(this.scene.overrideMaterial=i),e.autoClear=a}}function H(e=0){return e/255}function O(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}const G=.14,X=.2,j=.01,U={falloff:.15,radius:5,position:[0,0,2],color:[1,1,1],ambient:[.2,.1,.1]},q={uTime:{value:0},uSpeed:{value:.2},uNoiseDensity:{value:1.5},uNoiseStrength:{value:.2},uFrequency:{value:3},uAmplitude:{value:5},uIntensity:{value:.3},type:{value:"plane"},uC1r:{value:.8},uC1g:{value:.3},uC1b:{value:.43},uC2r:{value:.1},uC2g:{value:.5},uC2b:{value:1},uC3r:{value:.6},uC3g:{value:.71},uC3b:{value:.56},meshCount:{value:50},roughness:{value:G},metalness:{value:X},normalScale:{value:j},rotation:{value:0},colors:{value:void 0},vertexShader:"",fragmentShader:""};class Q extends g.MeshPhysicalMaterial{constructor(){super({roughness:G,metalness:X,side:g.DoubleSide,clearcoat:1,clearcoatRoughness:.5,normalScale:new g.Vector2(j,j),userData:q,onBeforeCompile:e=>{const t=this.userData.colors.value,n=O(t[0]),a=O(t[1]),r=O(t[2]),i=this.userData.meshType;console.log("meshType",i),e.uniforms.uTime=q.uTime,e.uniforms.uSpeed=q.uSpeed,e.uniforms.uNoiseDensity=q.uNoiseDensity,e.uniforms.uNoiseStrength=q.uNoiseStrength,e.uniforms.uIntensity=q.uIntensity,e.uniforms.uFrequency=q.uFrequency,e.uniforms.uAmplitude=q.uAmplitude,e.uniforms.uC1r={value:H(null===n||void 0===n?void 0:n.r)},e.uniforms.uC1g={value:H(null===n||void 0===n?void 0:n.g)},e.uniforms.uC1b={value:H(null===n||void 0===n?void 0:n.b)},e.uniforms.uC2r={value:H(null===a||void 0===a?void 0:a.r)},e.uniforms.uC2g={value:H(null===a||void 0===a?void 0:a.g)},e.uniforms.uC2b={value:H(null===a||void 0===a?void 0:a.b)},e.uniforms.uC3r={value:H(null===r||void 0===r?void 0:r.r)},e.uniforms.uC3g={value:H(null===r||void 0===r?void 0:r.g)},e.uniforms.uC3b={value:H(null===r||void 0===r?void 0:r.b)},e.uniforms.rotation=q.rotation,e.uniforms.meshCount=q.meshCount,console.log("light",U),e.uniforms.light={value:U},e.vertexShader=this.userData.vertexShader,e.fragmentShader=this.userData.fragmentShader,console.log("shader",e)}})}get texture1(){return this.uniforms.texture1.value}set texture1(e){return this.uniforms.texture1.value=e}get uStrength(){return this.userData.uNoiseStrength.value}set uStrength(e){return this.userData.uNoiseStrength.value=e}get uDensity(){return this.userData.uNoiseDensity.value}set uDensity(e){return this.userData.uNoiseDensity.value=e}get uFrequency(){return this.userData.uFrequency.value}set uFrequency(e){return this.userData.uFrequency.value=e}get uAmplitude(){return this.userData.uAmplitude.value}set uAmplitude(e){return this.userData.uAmplitude.value=e}get uSpeed(){return this.userData.uSpeed.value}set uSpeed(e){return this.userData.uSpeed.value=e}get colors(){return this.userData.colors.value}set colors(e){return this.userData.colors.value=e}get meshType(){return this.userData.meshType}set meshType(e){return this.userData.meshType=e}get vertexShader(){return this.userData.vertexShader}set vertexShader(e){return this.userData.vertexShader=e}get fragmentShader(){return this.userData.fragmentShader}set fragmentShader(e){return this.userData.fragmentShader=e}}r.extend({GradientMaterial:Q});const K=new g.Clock;function W({type:e="plane",r3f:t,position:n,rotation:i,animate:o,uTime:c,uStrength:u,uDensity:m,uFrequency:f,uAmplitude:d,uSpeed:p,colors:g,reflection:y,scale:v,vertexShader:b,fragmentShader:x,axesHelper:E,wireframe:_}){const S=a.useRef(),w=a.useRef();r.useFrame(((e,t)=>S.current?void(o&&(w.current.userData.uTime.value=K.getElapsedTime())):null)),a.useEffect((()=>{w.current.userData.uTime.value=c,w.current.roughness=1-y}),[c,y]);const P={midA:[0,0,0],midB:[0,0,0],lineWidth:1};return h.createElement(l.animated.mesh,{ref:S,position:n,rotation:i,scale:v},"plane"===e&&h.createElement("planeGeometry",{args:[10,10,1,200]}),"sphere"===e&&h.createElement("icosahedronBufferGeometry",{args:[1,64]}),"waterPlane"===e&&h.createElement("planeGeometry",{args:[10,10,200,200]}),E&&h.createElement(h.Fragment,null,h.createElement(s.CubicBezierLine,Object.assign({start:[0,0,0],end:[10,0,0],color:"red"},P)),h.createElement(s.CubicBezierLine,Object.assign({start:[0,0,0],end:[0,10,0],color:"green"},P)),h.createElement(s.CubicBezierLine,Object.assign({start:[0,0,0],end:[0,0,10],color:"blue"},P))),h.createElement("gradientMaterial",{ref:w,colors:g,uStrength:u,uDensity:m,uFrequency:f,uAmplitude:d,uSpeed:p,meshType:e,vertexShader:b,fragmentShader:x,wireframe:_}))}new g.Vector3(1,0,0).normalize();const $=new g.Vector3;function J(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}const ee={primary:"bg-primary text-white",secondary:"ring-1 ring-primary text-primary"},te=h.forwardRef(((e,t)=>{var{label:n,check:a,setValue:r}=e,i=J(e,["label","check","setValue"]);return h.createElement("label",{className:y.default("flex justify-center items-center w-full h-input text-primary rounded cursor-pointer bg-primary hover:bg-opacity-10",a?"bg-opacity-10":"bg-opacity-0"),htmlFor:i.value},h.createElement("input",Object.assign({type:"radio",id:i.value,className:"absolute inline-block opacity-0 cursor-pointer",onChange:e=>r(e.target.value)},i)),h.createElement("span",{className:"text-base font-medium"},n||i.value))})),ne=e=>{var{guide:t=!1,className:n="w-3 h-3"}=e,a=J(e,["guide","className"]);return h.createElement("div",Object.assign({},a,{className:n,style:{position:"relative",background:"hsl(100, 37%, 79%)",opacity:"var(--guide-opacity)"}}),h.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",whiteSpace:"nowrap",fontSize:"8px"}},t&&n))},ae=h.forwardRef((({defaultValue:e,setValue:t,step:n,min:r,max:i},o)=>{const[l,s]=a.useState(e);return a.useEffect((()=>{s(e)}),[e]),a.useEffect((()=>{t(l)}),[l]),h.createElement("div",{className:"flex items-center w-full"},h.createElement(re,{value:l,setValue:s,step:n}),h.createElement(ne,{className:"w-4"}),h.createElement(v.default,{value:Number(l),step:n,min:r,max:i,onChange:(e,t)=>s(e),className:"bg-primary h-slider w-full",marks:[(r+i)/2],markClassName:"w-mark h-mark bg-primary top-1/2 transform -translate-y-1/2 slider-mark-center-x",thumbClassName:"bg-primary w-thumb h-thumb rounded-full top-1/2 transform -translate-y-1/2 outline-none cursor-pointer",thumbActiveClassName:"bg-opacity-80"}))})),re=h.forwardRef(((e,t)=>{var{label:n="",value:a,setValue:r}=e,i=J(e,["label","value","setValue"]);return h.createElement("div",{className:"flex items-center"},n&&h.createElement(h.Fragment,null,h.createElement("label",{className:"font-semibold text-primary"},n),h.createElement(ne,{className:"w-2"})),h.createElement("input",Object.assign({type:"number",className:"font-medium text-primary bg-primary bg-opacity-10 rounded h-input w-control-number-input text-center outline-none",ref:t,value:a,onChange:e=>r(e.target.value)},i)))})),ie=h.forwardRef((({label:e="",defaultValue:t,setValue:n},r)=>{const[i,o]=a.useState(t);return a.useEffect((()=>{o(t)}),[t]),a.useEffect((()=>{n(i)}),[i]),h.createElement("div",{className:"flex items-center"},e&&h.createElement(h.Fragment,null,h.createElement("label",{className:"font-semibold text-primary"},e),h.createElement(ne,{className:"w-2"})),h.createElement("div",{className:"flex items-center gap-2 w-full"},h.createElement("div",{className:"w-full h-input rounded",style:{background:i}},h.createElement("input",{type:"color",value:i,onChange:e=>o(e.target.value),className:"w-full h-full opacity-0 cursor-pointer",ref:r})),h.createElement("input",{type:"text",value:i,onChange:e=>o(e.target.value),className:"font-medium text-primary bg-primary bg-opacity-10 rounded h-input w-[90px] text-center outline-none"})))})),oe=e=>{var{title:t,children:n,gap:a="w-2"}=e,r=J(e,["title","children","gap"]);return h.createElement("div",Object.assign({className:"flex justify-between items-center gap-3.5"},r),h.createElement("span",{className:"font-semibold text-primary w-[28%]"},t),h.createElement("div",{className:"flex justify-between w-full"},h.Children.map(n,((e,t)=>h.createElement(h.Fragment,null,h.createElement("div",{key:t,className:"w-full"},h.cloneElement(e,{})),a&&t<h.Children.count(n)-1&&h.createElement(ne,{className:`${a} flex-shrink-0`}))))))},le=e=>{var{title:t,active:n,onClick:a}=e;return J(e,["title","active","onClick"]),h.createElement("div",{className:y.default("text-xl font-medium text-primary text-opacity-20 cursor-pointer",n&&"text-opacity-100"),onClick:a},t)},se=x.default((e=>Object.assign({},ce())));function ce(e="?pixelDensity=1"){return b.parse(e,{parseNumbers:!0,parseBooleans:!0,arrayFormat:"index"})}const ue=(e,t=null)=>{const n=a.useCallback((n=>"undefined"!==typeof n[e]?n[e]:t),[e,t]),r=se(n),i=a.useCallback((t=>se.setState({[e]:t(se.getState()[e])})),[e]);return[r,a.useCallback((e=>{i((n=>("function"===typeof e&&(e=e(n||t)),Number.isFinite(e)&&(e=parseFloat(e.toFixed(2))),setTimeout((()=>{const e=se.getState();var t;t=b.stringifyUrl({url:window.location.pathname,query:e},{skipNull:!0,arrayFormat:"index"}),window.history.pushState(null,document.title,t)}),0),e)))}),[i])]},me=()=>{const[e,t]=ue("type"),[n,a]=ue("animate"),[r,i]=ue("uTime"),[o,l]=ue("uSpeed"),[s,c]=ue("uStrength"),[u,m]=ue("uDensity"),[f,d]=ue("uFrequency"),[p,g]=ue("uAmplitude"),[y,v]=ue("positionX"),[b,x]=ue("positionY"),[E,_]=ue("positionZ"),[S,w]=ue("rotationX"),[P,C]=ue("rotationY"),[D,T]=ue("rotationZ");return h.createElement("div",{className:"flex flex-col gap-3"},h.createElement(oe,{title:"Type"},h.createElement(te,{name:"type",value:"plane",setValue:t,check:"plane"===e,label:"Plane"}),h.createElement(te,{name:"type",value:"sphere",setValue:t,check:"sphere"===e,label:"Sphere"}),h.createElement(te,{name:"type",value:"waterPlane",setValue:t,check:"waterPlane"===e,label:"Water"})),h.createElement(oe,{title:"Animate"},h.createElement(te,{name:"animate",value:"on",setValue:a,check:"on"===n,label:"On"}),h.createElement(te,{name:"animate",value:"off",setValue:a,check:"off"===n,label:"Off"})),"off"===n&&h.createElement(oe,{title:"Movements"},h.createElement(ae,{defaultValue:r,setValue:i,step:.1,min:0,max:9})),"on"===n&&h.createElement(oe,{title:"Speed"},h.createElement(ae,{defaultValue:o,setValue:l,step:.1,min:0,max:2})),h.createElement(oe,{title:"Noise Strength"},h.createElement(ae,{defaultValue:s,setValue:c,step:.1,min:0,max:10})),h.createElement(oe,{title:"Noise Density"},h.createElement(ae,{defaultValue:u,setValue:m,step:.1,min:0,max:7})),h.createElement(oe,{title:"uFrequency"},h.createElement(ae,{defaultValue:f,setValue:d,step:.1,min:0,max:7})),h.createElement(oe,{title:"uAmplitude"},h.createElement(ae,{defaultValue:p,setValue:g,step:.1,min:0,max:7})),h.createElement(oe,{title:"Position"},h.createElement(re,{label:"x",step:.1,value:y,setValue:v}),h.createElement(re,{label:"y",step:.1,value:b,setValue:x}),h.createElement(re,{label:"z",step:.1,value:E,setValue:_})),h.createElement(oe,{title:"Rotation"},h.createElement(re,{label:"x",step:10,value:S,setValue:w}),h.createElement(re,{label:"y",step:10,value:P,setValue:C}),h.createElement(re,{label:"z",step:10,value:D,setValue:T})))},fe=()=>{const[e,t]=ue("cDistance");ue("cameraPositionX"),ue("cameraPositionY"),ue("cameraPositionZ");const[n,a]=ue("cAzimuthAngle"),[r,i]=ue("cPolarAngle");return h.createElement("div",{className:"flex flex-col gap-3"},h.createElement(oe,{title:"Distance"},h.createElement(ae,{defaultValue:e,setValue:t,step:.1,min:0,max:20})),h.createElement(oe,{title:"rotateTo"},h.createElement(re,{label:"azimuthAngle",step:10,value:n,setValue:a}),h.createElement(re,{label:"polarAngle",step:10,min:0,max:180,value:r,setValue:i})))},de=()=>{const[e,t]=ue("color1"),[n,a]=ue("color2"),[r,i]=ue("color3");return h.createElement("div",{className:"flex flex-col gap-3"},h.createElement(oe,{title:"Color 1"},h.createElement(ie,{defaultValue:e,setValue:t})),h.createElement(oe,{title:"Color 2"},h.createElement(ie,{defaultValue:n,setValue:a})),h.createElement(oe,{title:"Color 3"},h.createElement(ie,{defaultValue:r,setValue:i})))},pe=()=>{const[e,t]=ue("grain"),[n,a]=ue("lightType"),[r,i]=ue("envPreset"),[o,l]=ue("reflection"),[s,c]=ue("brightness");return h.createElement("div",{className:"flex flex-col gap-3"},h.createElement(oe,{title:"Grain"},h.createElement(te,{name:"grain",value:"on",setValue:t,check:"on"===e,label:"On"}),h.createElement(te,{name:"grain",value:"off",setValue:t,check:"off"===e,label:"Off"})),h.createElement(oe,{title:"Light Type"},h.createElement(te,{name:"lightType",value:"env",setValue:a,check:"env"===n,label:"Environment"}),h.createElement(te,{name:"lightType",value:"3d",setValue:a,check:"3d"===n,label:"3d lighting"})),"env"===n&&h.createElement(oe,{title:"Env Preset"},h.createElement(te,{name:"envPreset",value:"city",setValue:i,check:"city"===r,label:"City"}),h.createElement(te,{name:"envPreset",value:"dawn",setValue:i,check:"dawn"===r,label:"Dawn"}),h.createElement(te,{name:"envPreset",value:"lobby",setValue:i,check:"lobby"===r,label:"Lobby"})),"env"===n&&h.createElement(oe,{title:"Reflection"},h.createElement(ae,{defaultValue:o,setValue:l,step:.1,min:0,max:1})),"3d"===n&&h.createElement(oe,{title:"Brightness"},h.createElement(ae,{defaultValue:s,setValue:c,step:.1,min:0,max:3})))},he=()=>{const[e,t]=ue("wireframe"),[n,a]=ue("axesHelper"),[r,i]=ue("gizmoHelper");return h.createElement("div",{className:"flex flex-col gap-3"},h.createElement(oe,{title:"Wireframe"},h.createElement(te,{name:"wireframe",value:"enable",setValue:t,check:"enable"===e,label:"On"}),h.createElement(te,{name:"wireframe",value:"false",setValue:t,check:"false"===e,label:"Off"})),h.createElement(oe,{title:"Axes"},h.createElement(te,{name:"axesHelper",value:"on",setValue:a,check:"on"===n,label:"On"}),h.createElement(te,{name:"axesHelper",value:"off",setValue:a,check:"off"===n,label:"Off"})),h.createElement(oe,{title:"Gizmo"},h.createElement(te,{name:"gizmoHelper",value:"show",setValue:i,check:"show"===r,label:"On"}),h.createElement(te,{name:"gizmoHelper",value:"hide",setValue:i,check:"hide"===r,label:"Off"})))};var ge=Object.freeze({__proto__:null,Button:e=>{var{kind:t="primary",children:n}=e,a=J(e,["kind","children"]);return h.createElement("button",Object.assign({className:y.default("h-button font-medium rounded w-full",ee[t])},a),n)},Radio:te,Spacing:ne,Slider:ae,NumberInput:re,ColorInput:ie,InputPanel:oe,ControlTypeTitle:le,ControlTypeTitles:e=>{var{activeTab:t,setActiveTab:n}=e;return J(e,["activeTab","setActiveTab"]),h.createElement("div",{className:"flex justify-between gap-0.2 w-screen h-[fit-content] p-3.5 cursor-pointer md:w-full md:h-full md:flex-col md:justify-start",onClick:()=>n("shape")},h.createElement(le,{title:"Shape",active:"shape"===t,onClick:()=>{n("shape"===t?"none":"shape")}}),h.createElement(le,{title:"Colors",active:"colors"===t,onClick:e=>{e.stopPropagation(),n("colors"===t?"none":"colors")}}),h.createElement(le,{title:"Effects",active:"effects"===t,onClick:e=>{e.stopPropagation(),n("effects"===t?"none":"effects")}}),h.createElement(le,{title:"Camera",active:"camera"===t,onClick:e=>{e.stopPropagation(),n("camera"===t?"none":"camera")}}),h.createElement(le,{title:"Tools",active:"tools"===t,onClick:e=>{e.stopPropagation(),n("tools"===t?"none":"tools")}}))},ShapeControls:me,CameraControls:fe,ColorControls:de,EffectControls:pe,Tools:he,PropertyControls:({activeTab:e,setActiveTab:t})=>h.createElement("div",{className:"w-screen h-[fit-content] bg-controls-panel-mobile text-primary mx-auto p-3.5 md:bg-controls-panel md:w-[470px] md:h-full md:p-4"},"shape"===e&&h.createElement(me,null),"colors"===e&&h.createElement(de,null),"effects"===e&&h.createElement(pe,null),"camera"===e&&h.createElement(fe,null),"tools"===e&&h.createElement(he,null))});t.ph=({r3f:e,type:t="plane",postProcessing:n="threejs",environment:i=h.createElement(_,{preset:"lobby",background:!0}),lights:o=h.createElement("ambientLight",{intensity:1}),position:l=[0,0,0],rotation:s,scale:c,cameraPosition:u={x:.4,y:-.2,z:-5},cameraRotation:m={x:0,y:0,z:0},cameraQuaternion:f={x:0,y:0,z:0},cameraZoom:d=2.4,uTime:p=.2,animate:g=!0,uStrength:y=1.6,uDensity:v=1,uFrequency:b,uAmplitude:x,uSpeed:E=.3,colors:S=["#CC4C6E","#1980FF","#99B58F"],grain:w="on",lightType:P="env",envPreset:C="city",reflection:D=.1,brightness:T=1.2,loadingCallback:A,vertexShader:k,fragmentShader:N,axesHelper:F,wireframe:R})=>{r.useFrame((e=>{e.camera.position.lerp($.set(u.x,u.y,u.z),.1)})),function({on:e=!1,grain:t=!1}){const{gl:n,scene:i,camera:o,size:l}=r.useThree(),s=a.useMemo((()=>{const e=new M(n);e.addPass(new B(i,o));const a={shape:1,radius:2,rotateR:Math.PI/12,rotateB:Math.PI/12*2,rotateG:Math.PI/12*3,scatter:1,blending:1,blendingMode:1,greyscale:!1,disable:!t},r=new L(l.width,l.height,a);return e.addPass(r),e}),[n,i,o,l,t]);a.useEffect((()=>null===s||void 0===s?void 0:s.setSize(l.width,l.height)),[s,l]),r.useFrame(((t,a)=>(n.autoClear=!0,void(e&&s.render(a)))),1)}({on:"threejs"===n,grain:"on"===w});let z=i;C?z=h.createElement(_,{preset:C,background:!1,loadingCallback:A}):null===A||void 0===A||A(100);let V=o;return T&&(V=h.createElement("ambientLight",{intensity:T})),h.createElement(h.Fragment,null,h.createElement(a.Suspense,{fallback:"Load Failed"},"env"===P?z:V,h.createElement(W,{key:S.toString(),type:t,position:l,rotation:s,scale:c,animate:g,uTime:p,uStrength:y,uDensity:v,uFrequency:b,uAmplitude:x,uSpeed:E,colors:S,reflection:D,vertexShader:k,fragmentShader:N,axesHelper:F,wireframe:R})))},t.PG=[{title:"New Halo",color:"white",url:"?animate=on&axesHelper=off&brightness=1.2&cAzimuthAngle=180&cDistance=1.7&cPolarAngle=90&cameraPositionX=0&cameraPositionY=0&cameraPositionZ=0&cameraZoom=1&color1=%23ff5005&color2=%23a177ca&color3=%23d9a83f&embedMode=off&envPreset=city&gizmoHelper=hide&grain=on&lightType=env&pixelDensity=1&positionX=0&positionY=0&positionZ=0&reflection=0.1&rotationX=45&rotationY=0&rotationZ=-120&type=plane&uDensity=3&uSpeed=0.1&uStrength=2.4&uTime=0&wireframe=false"},{title:"New Halo (2)",color:"white",url:"?animate=on&axesHelper=off&brightness=1.2&cAzimuthAngle=180&cDistance=4.2&cPolarAngle=90&cameraPositionX=0&cameraPositionY=0&cameraPositionZ=0&cameraZoom=1&color1=%23ff5005&color2=%23779bca&color3=%23d9b03f&embedMode=off&envPreset=city&gizmoHelper=hide&grain=on&lightType=3d&pixelDensity=1&positionX=0&positionY=1.1&positionZ=0&reflection=0.1&rotationX=0&rotationY=0&rotationZ=-70&type=plane&uDensity=3&uSpeed=0.1&uStrength=1.5&uTime=0&wireframe=false"},{title:"Breeze",color:"white",url:"?animate=on&axesHelper=off&brightness=1&cAzimuthAngle=180&cDistance=2.2&cPolarAngle=140&cameraPositionX=0&cameraPositionY=0&cameraPositionZ=0&cameraZoom=1&color1=%236cd7ea&color2=%235ac5d3&color3=%23d4f2ca&embedMode=off&envPreset=city&gizmoHelper=hide&grain=off&lightType=3d&pixelDensity=1&positionX=0&positionY=1&positionZ=0&reflection=0.1&rotationX=0&rotationY=0&rotationZ=-90&type=waterPlane&uDensity=1.8&uSpeed=0.1&uStrength=2&uTime=8&wireframe=false&animate=on"},{title:"Halo Origin",color:"white",url:"?animate=on&axesHelper=off&brightness=1.2&cAzimuthAngle=180&cDistance=2&cPolarAngle=90&cameraPositionX=0&cameraPositionY=0&cameraPositionZ=0&cameraZoom=1&color1=%23CC4C6E&color2=%231980FF&color3=%2399B58F&embedMode=off&envPreset=city&gizmoHelper=hide&grain=on&lightType=env&pixelDensity=1&positionX=0&positionY=0&positionZ=0&reflection=0.1&rotationX=45&rotationY=0&rotationZ=115&type=plane&uDensity=3&uSpeed=0.1&uStrength=2.4&uTime=0&wireframe=false"},{title:"Midnight",color:"#5C5C5C",url:"?animate=on&axesHelper=off&brightness=2.4&cAzimuthAngle=180&cDistance=2&cPolarAngle=130&cameraPositionX=0&cameraPositionY=0&cameraPositionZ=0&cameraZoom=1&color1=%2320181c&color2=%23000000&color3=%233e4365&embedMode=off&envPreset=city&gizmoHelper=hide&grain=on&lightType=3d&pixelDensity=1&positionX=0&positionY=0&positionZ=0&reflection=0.1&rotationX=0&rotationY=0&rotationZ=-60&type=waterPlane&uDensity=2.8&uSpeed=0.1&uStrength=1.3&uTime=0.2&wireframe=false"},{title:"Mystery",color:"white",url:"?animate=on&axesHelper=off&brightness=1&cAzimuthAngle=90&cDistance=1.6&cPolarAngle=0&cameraPositionX=0&cameraPositionY=0&cameraPositionZ=0&cameraZoom=1&color1=%233531f6&color2=%23cbbfe8&color3=%23ff6f00&embedMode=off&envPreset=city&gizmoHelper=hide&grain=off&lightType=3d&pixelDensity=1&positionX=0&positionY=0&positionZ=0&reflection=0.1&rotationX=-30&rotationY=0&rotationZ=-120&type=sphere&uDensity=1.9&uSpeed=0.1&uStrength=0.2&uTime=0.2&wireframe=false"},{title:"Chaos",color:"white",url:"?animate=on&axesHelper=on&brightness=1.2&cAzimuthAngle=170&cDistance=2.2&cPolarAngle=110&cameraPositionX=0&cameraPositionY=0&cameraPositionZ=0&cameraZoom=1&color1=%23cd4c9d&color2=%231980FF&color3=%2399B58F&embedMode=off&envPreset=city&gizmoHelper=show&grain=on&lightType=env&pixelDensity=1&positionX=0&positionY=-0.5&positionZ=0&reflection=0.1&rotationX=0&rotationY=0&rotationZ=0&type=sphere&uDensity=2.2&uSpeed=0.5&uStrength=1&uTime=0.2&wireframe=false"},{title:"Santa",color:"white",url:"?animate=on&axesHelper=off&brightness=1.2&cAzimuthAngle=180&cDistance=4&cPolarAngle=90&cameraPositionX=0&cameraPositionY=0&cameraPositionZ=0&cameraZoom=1&color1=%23ff5005&color2=%2379ca77&color3=%23d9a83f&embedMode=off&envPreset=city&gizmoHelper=hide&grain=on&lightType=env&pixelDensity=1&positionX=0.7&positionY=1&positionZ=0&reflection=0.1&rotationX=25&rotationY=0&rotationZ=-120&type=plane&uDensity=3&uSpeed=0.1&uStrength=2.4&uTime=0&wireframe=false"},{title:"Cotton Candy",color:"white",url:"?animate=on&axesHelper=off&brightness=1.2&cAzimuthAngle=180&cDistance=3.8&cPolarAngle=120&cameraPositionX=0&cameraPositionY=0&cameraPositionZ=0&cameraZoom=1&color1=%23ebedff&color2=%23dbf8ff&color3=%23f3f2f8&embedMode=off&envPreset=city&gizmoHelper=hide&grain=off&lightType=3d&pixelDensity=1&positionX=0&positionY=1.3&positionZ=0&reflection=0.1&rotationX=0&rotationY=0&rotationZ=-90&type=waterPlane&uDensity=1&uSpeed=0.3&uStrength=3&uTime=0.2&wireframe=false"},{title:"Lemon",color:"white",url:"?animate=0ff&brightness=1.2&cameraPositionX=0.4&cameraPositionY=3.2&cameraPositionZ=0&cameraZoom=0.6&color1=%2385FFBD&color2=%2384C18F&color3=%23FFFB7D&embedMode=off&envPreset=city&grain=off&lightType=3d&pixelDensity=1&positionX=0&positionY=0&positionZ=0&reflection=0&rotationX=160&rotationY=0&rotationZ=30&type=plane&uSpeed=0.05&uDensity=1&uStrength=0.5&uTime=0.2"},{title:"Newyork",color:"white",url:"?animate=on&axesHelper=off&brightness=1.2&cAzimuthAngle=180&cDistance=3.3&cPolarAngle=120&cameraPositionX=0&cameraPositionY=0&cameraPositionZ=0&cameraZoom=1&color1=%23ace0f9&color2=%2399c5ff&color3=%23fff1eb&embedMode=off&envPreset=city&gizmoHelper=hide&grain=off&lightType=3d&pixelDensity=1&positionX=0&positionY=0&positionZ=0&reflection=0.1&rotationX=0&rotationY=0&rotationZ=-70&type=plane&uDensity=2.8&uSpeed=0.1&uStrength=0.9&uTime=0.2&wireframe=false"},{title:"Velvet",color:"white",url:"?animate=0ff&brightness=1.2&cameraPositionX=0.4&cameraPositionY=3.2&cameraPositionZ=0&cameraZoom=0.7&color1=ff9a9e&color2=%231f5c2a&color3=fad0c4&embedMode=off&envPreset=city&grain=off&lightType=3d&pixelDensity=1&positionX=1.7&positionY=0.5&positionZ=-1.4&reflection=0&rotationX=160&rotationY=0&rotationZ=30&type=plane&uSpeed=0.05&uDensity=1&uStrength=2.6&uTime=0.2"},{title:"Template - Plane",color:"white",url:"?animate=on&axesHelper=on&brightness=1.2&cAzimuthAngle=0&cDistance=14.2&cPolarAngle=90&cameraPositionX=0&cameraPositionY=0&cameraPositionZ=0&cameraZoom=1&color1=%23ff0000&color2=%230100ff&color3=%2300ff00&embedMode=off&envPreset=city&gizmoHelper=show&grain=off&lightType=3d&pixelDensity=1&positionX=0&positionY=0&positionZ=0&reflection=0.1&rotationX=0&rotationY=0&rotationZ=0&type=plane&uDensity=2&uSpeed=0.1&uStrength=2&uTime=0.2&wireframe=false"},{title:"Template - Sphere",color:"white",url:"?animate=on&axesHelper=on&brightness=1&cAzimuthAngle=180&cDistance=7.1&cPolarAngle=90&cameraPositionX=0&cameraPositionY=0&cameraPositionZ=0&cameraZoom=1&color1=%23ff0000&color2=%2300ff00&color3=%230700ff&embedMode=off&envPreset=city&gizmoHelper=show&grain=off&lightType=3d&pixelDensity=1&positionX=0&positionY=0&positionZ=0&reflection=0.1&rotationX=0&rotationY=0&rotationZ=0&type=sphere&uDensity=1&uSpeed=0.1&uStrength=1&uTime=0&wireframe=false"}],t.UI=ge,t.Rj=e=>{const t=ce(e);se.setState(t,!0)},t.v1=ue},7598:function(e,t,n){"use strict";function a(e){return e/180*Math.PI}function r(e){return e.map((function(e){return a(e)}))}n.d(t,{u:function(){return a},q:function(){return r}})},5659:function(){}}]);